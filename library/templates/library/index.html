<!-- library/templates/library/index.html -->
{% extends "library/base.html" %}

{% block content %}
<h1>Book List</h1>
<a href="{% url 'add_book' %}">Add New Book</a>
<table>
    <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Author</th>
        <th>Genre</th>
        <th>Actions</th>
    </tr>
    {% for id, book in books.items %}
    <tr>
        <td>{{ id }}</td>
        <td>{{ book.title }}</td>
        <td>{{ book.author_name }}</td>
        <td>{{ book.genre }}</td>
        <td>
            <a href="{% url 'edit_book' id %}">Edit</a>
            <a href="{% url 'delete_book' id %}" onclick="return confirm('Are you sure you want to delete this book?');">Delete</a>
        </td>
    </tr>
    {% empty %}
    <tr><td colspan="5">No books found.</td></tr>
    {% endfor %}
</table>
{% endblock %}
